# {{ ansible_managed }}
#
# zprofile: system-wide .zprofile file for zsh(1).
#
# This file is sourced only for login shells (i.e. shells
# invoked with "-" as the first character of argv[0], and
# shells invoked with the -l flag.)
#
# Global Order: zshenv, zprofile, zshrc, zlogin

# we source the general profile file here so we dont have to
# reimplement it
if [ -f /etc/profile ]; then; source /etc/profile; fi

# Send a mail when invoking a login/interactive shell
MAILCMD="mail"
MAILTEXT="\
LOGIN
-----
Host:     $(hostname)
Date:     $(date)
User:     $USER
Shell:    $SHELL
"
MAILSUBJECT="Login: $(hostname) - $USER"
echo "$MAILTEXT" | "$MAILCMD" -s "$MAILSUBJECT" "{{ adminmail if adminmail is defined else "root"}}"
